category: JavaSE 并发
date: 2016-03-28
title: ForkJoin框架应用
---
## 创建Fork/Join线程池
## 取消任务
ForkJoinTask 提供的cancel()方法允许取消一个仍没有被执行的任务.如果任务已经执行,那么调用cancel()方法也无法取消.ForkJoin框架的局限性在于,ForkJoinPool线程池里的任务不允许被取消.为了克服这种局限性,我们将ForkJoinTask任务存储在TaskManager里.
## 合并任务的结果
## 在任务中抛出异常
## 异步运行任务
一旦主任务处理完指定文件夹里的所有内容,它将调用join()方法等待发送到线程池里的所以子任务执行完成

* join()方法在主任务中被调用,然后等待任务执行结束,并通过compute()方法返回值.
* 主任务将所以的子任务结果进行合并,这些子任务发送到线程池中时带有自己的结果列表,
* 通过调用compute()方法返回这个列表并作为主任务的返回值.
