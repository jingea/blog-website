category: 
- security
title: Java¼ÓÃÜ
category: 
- åŠ å¯†
title: Java¼ÓÃÜ
# JavaåŠ å¯†

## Javaä¸å¯†ç å­¦

#### Javaå®‰å…¨é¢†åŸŸç»„æˆéƒ¨åˆ†

Javaå®‰å…¨é¢†åŸŸæ€»å…±åˆ†ä¸º4ä¸ªéƒ¨åˆ†:
* `JCA`(`Java Cryptography Architecture`,JavaåŠ å¯†ä½“ç³»ç»“æ„)
```
	JCAæä¾›åŸºæœ¬çš„åŠ å¯†æ¡†æ¶,å¦‚è¯ä¹¦ã€æ•°å­—ç­¾åã€æ¶ˆæ¯æ‘˜è¦å’Œå¯†é’¥å¯¹äº§ç”Ÿå™¨.
```
* `JCE`(`Java Cryptography Extension`,JavaåŠ å¯†æ‰©å±•åŒ…)
```
	JCEåœ¨JCAçš„åŸºç¡€ä¸Šä½œäº†æ‰©å±•,æä¾›äº†å„ç§åŠ å¯†ç®—æ³•ã€æ¶ˆæ¯æ‘˜è¦ç®—æ³•å’Œå¯†é’¥ç®¡ç†ç­‰åŠŸèƒ½.
	æˆ‘ä»¬å·²ç»æœ‰æ‰€äº†è§£çš„DESç®—æ³•ã€AESç®—æ³•ã€RSAç®—æ³•ã€DSAç®—æ³•ç­‰å°±æ˜¯é€šè¿‡JCEæ¥æä¾›çš„.
	æœ‰å…³JCEçš„å®ç°ä¸»è¦åœ¨javax.cryptoåŒ…(åŠå…¶å­åŒ…)ä¸­.
```
* `JSSE`(`Java Secure Sockets Extension`,Javaå®‰å…¨å¥—æ¥å­—æ‰©å±•åŒ…)
```
	JSSEæä¾›äº†åŸºäºSSL(Secure Sockets Layer,å®‰å…¨å¥—æ¥å­—å±‚)çš„åŠ å¯†åŠŸèƒ½.
	åœ¨ç½‘ç»œçš„ä¼ è¾“è¿‡ç¨‹ä¸­,ä¿¡æ¯ä¼šç»è¿‡å¤šä¸ªä¸»æœº(å¾ˆæœ‰å¯èƒ½å…¶ä¸­ä¸€å°å°±è¢«çªƒå¬),æœ€ç»ˆä¼ é€ç»™æ¥æ”¶è€…,
	è¿™æ˜¯ä¸å®‰å…¨çš„.è¿™ç§ç¡®ä¿ç½‘ç»œé€šä¿¡å®‰å…¨çš„æœåŠ¡å°±æ˜¯ç”±JSSEæ¥æä¾›çš„.
```
* `JAAS`(`Java Authentication and Authentication Service`,Javaé‰´åˆ«ä¸å®‰å…¨æœåŠ¡).
```
	JAASæä¾›äº†åœ¨Javaå¹³å°ä¸Šè¿›è¡Œç”¨æˆ·èº«ä»½é‰´åˆ«çš„åŠŸèƒ½.å¦‚ä½•æä¾›ä¸€ä¸ªç¬¦åˆæ ‡å‡†å®‰å…¨æœºåˆ¶çš„ç™»å½•æ¨¡å—,
	é€šè¿‡å¯é…ç½®çš„æ–¹å¼é›†æˆè‡³å„ä¸ªç³»ç»Ÿä¸­å‘¢ï¼Ÿè¿™æ˜¯ç”±JAASæ¥æä¾›çš„.
```

JCAå’ŒJCEæ˜¯Javaå¹³å°æä¾›çš„ç”¨äºå®‰å…¨å’ŒåŠ å¯†æœåŠ¡çš„ä¸¤ç»„API.å®ƒä»¬å¹¶ä¸æ‰§è¡Œä»»ä½•ç®—æ³•,å®ƒä»¬åªæ˜¯è¿æ¥åº”ç”¨å’Œå®é™…ç®—æ³•å®ç°ç¨‹åºçš„ä¸€ç»„æ¥å£.è½¯ä»¶å¼€å‘å•†å¯ä»¥æ ¹æ®JCEæ¥å£(åˆç§°å®‰å…¨æä¾›è€…æ¥å£)å°†å„ç§ç®—æ³•å®ç°å,æ‰“åŒ…æˆä¸€ä¸ªProvider(å®‰å…¨æä¾›è€…),åŠ¨æ€åœ°åŠ è½½åˆ°Javaè¿è¡Œç¯å¢ƒä¸­.

æ ¹æ®ç¾å›½å‡ºå£é™åˆ¶è§„å®š,JCAå¯å‡ºå£(JCAå’ŒSunçš„ä¸€äº›é»˜è®¤å®ç°åŒ…å«åœ¨Javaå‘è¡Œç‰ˆä¸­),ä½†JCEå¯¹éƒ¨åˆ†å›½å®¶æ˜¯é™åˆ¶å‡ºå£çš„.å› æ­¤,è¦å®ç°ä¸€ä¸ªå®Œæ•´çš„å®‰å…¨ç»“æ„,å°±éœ€è¦ä¸€ä¸ªæˆ–å¤šä¸ªç¬¬ä¸‰æ–¹å‚å•†æä¾›çš„JCEäº§å“,ç§°ä¸ºå®‰å…¨æä¾›è€….BouncyCastle JCEå°±æ˜¯å…¶ä¸­çš„ä¸€ä¸ªå®‰å…¨æä¾›è€….

å®‰å…¨æä¾›è€…æ˜¯æ‰¿æ‹…ç‰¹å®šå®‰å…¨æœºåˆ¶å®ç°çš„ç¬¬ä¸‰æ–¹.æœ‰äº›æä¾›è€…æ˜¯å®Œå…¨å…è´¹çš„,è€Œå¦ä¸€äº›æä¾›è€…åˆ™éœ€è¦ä»˜è´¹.æä¾›å®‰å…¨æä¾›è€…çš„å…¬å¸æœ‰Sunã€Bouncy Castleç­‰,Sunæä¾›äº†å¦‚ä½•å¼€å‘å®‰å…¨æä¾›è€…çš„ç»†èŠ‚.Bouncy Castleæä¾›äº†å¯ä»¥åœ¨J2ME/J2EE/J2SEå¹³å°å¾—åˆ°æ”¯æŒçš„API,è€Œä¸”Bouncy Castleçš„APIæ˜¯å…è´¹çš„.

JDK 1.4ç‰ˆæœ¬åŠå…¶åç»­ç‰ˆæœ¬ä¸­åŒ…å«äº†ä¸Šè¿°æ‰©å±•åŒ…,æ— é¡»è¿›è¡Œé…ç½®.åœ¨æ­¤ä¹‹å‰,å®‰è£…JDKåéœ€è¦å¯¹ä¸Šè¿°æ‰©å±•åŒ…è¿›è¡Œç›¸åº”é…ç½®.

####  å®‰å…¨æä¾›è€…ä½“ç³»ç»“æ„

Javaå®‰å…¨ä½“ç³»ç»“æ„é€šè¿‡æ‰©å±•çš„æ–¹å¼,åŠ å…¥äº†æ›´å¤šçš„ç®—æ³•å®ç°åŠç›¸åº”çš„å®‰å…¨æœºåˆ¶.æˆ‘ä»¬æŠŠè¿™äº›æä¾›è€…ç§°ä¸ºå®‰å…¨æä¾›è€…(ä»¥ä¸‹ç®€ç§°â€œæä¾›è€…â€).

###### ä»¥ä¸‹å†…å®¹æ˜¯JDK 1.7æ‰€æä¾›çš„å®‰å…¨æä¾›è€…çš„é…ç½®ä¿¡æ¯.
* security.provider.1=sun.security.provider.Sun
* security.provider.2=sun.security.rsa.SunRsaSign
* security.provider.3=sun.security.ec.SunEC
* security.provider.4=com.sun.net.ssl.internal.ssl.Provider
* security.provider.5=com.sun.crypto.provider.SunJCE
* security.provider.6=sun.security.jgss.SunProvider
* security.provider.7=com.sun.security.sasl.Provider
* security.provider.8=org.jcp.xml.dsig.internal.dom.XMLDSigRI
* security.provider.9=sun.security.smartcardio.SunPCSC
* security.provider.10=sun.security.mscapi.SunMSCAPI

> ä¸Šè¿°è¿™äº›æä¾›è€…å‡æ˜¯`Provider`ç±»(`java.security.Provider`)çš„å­ç±».å…¶ä¸­`sun.security.provider.Sun`æ˜¯åŸºæœ¬å®‰å…¨æä¾›è€…,`sun.security.rsa.SunRsaSign`æ˜¯å®ç°RSAç®—æ³•çš„æä¾›è€….
>
> ä¸ä¸Šä¸€ç‰ˆæœ¬å¯¹æ¯”,Java 7æ–°å¢äº†ECç®—æ³•å®‰å…¨æä¾›è€…â€”`sun.security.ec.SunEC`,æš—ç¤ºåœ¨è¯¥ç‰ˆæœ¬ä¸­å¯èƒ½æ”¯æŒç›¸åº”çš„ç®—æ³•å®ç°.
>
> Javaå®‰å…¨ä½“ç³»ä¸ä»…æ”¯æŒæ¥è‡ªSunå®˜æ–¹æä¾›çš„å®‰å…¨æä¾›è€…,åŒæ—¶ä¹Ÿå¯é…ç½®ç¬¬ä¸‰æ–¹å®‰å…¨æä¾›è€…ä»¥æ‰©å±•ç›¸åº”çš„ç®—æ³•å®ç°ç­‰.

###### å®‰å…¨æä¾›è€…å®ç°äº†ä¸¤ä¸ªæ¦‚å¿µçš„æŠ½è±¡:
* å¼•æ“
```
	å¼•æ“å¯ä»¥ç†è§£ä¸ºæ“ä½œ,å¦‚åŠ å¯†ã€è§£å¯†ç­‰.
```
* ç®—æ³•.
```
	ç®—æ³•åˆ™å®šä¹‰äº†æ“ä½œå¦‚ä½•æ‰§è¡Œ,å¦‚ä¸€ä¸ªç®—æ³•å¯ä»¥ç†è§£ä¸ºä¸€ä¸ªå¼•æ“çš„å…·ä½“å®ç°.å½“ç„¶,ä¸€ä¸ªç®—æ³•å¯ä»¥æœ‰å¤šç§å®ç°æ–¹å¼,
	è¿™å°±æ„å‘³ç€åŒä¸€ä¸ªç®—æ³•å¯èƒ½ä¸å¤šä¸ªå¼•æ“çš„å…·ä½“å®ç°ç›¸å¯¹åº”.
```

> å®‰å…¨æä¾›è€…æ¥å£çš„ç›®çš„å°±æ˜¯æä¾›ä¸€ä¸ªç®€å•çš„æœºåˆ¶,ä»è€Œå¯ä»¥å¾ˆæ–¹ä¾¿åœ°æ”¹å˜æˆ–æ›¿æ¢ç®—æ³•åŠå…¶å®ç°.åœ¨å®é™…å¼€å‘ä¸­,ç¨‹åºå‘˜åªéœ€è¦ç”¨å¼•æ“ç±»å®ç°ç‰¹å®šçš„æ“ä½œ,è€Œä¸éœ€è¦å…³å¿ƒå®é™…è¿›è¡Œè¿ç®—çš„ç±»æ˜¯å“ªä¸€ä¸ª.
>
> `Provider`ç±»å’Œ`Security`ç±»(`java.security.Security`)å…±åŒæ„æˆäº†å®‰å…¨æä¾›è€…çš„æ¦‚å¿µ.

#### æœ¬æ–‡å…¨è²Œ

* ä¸»è¦è¯¦è§£äº†`java.security`åŒ…ä¸`javax.cryptoåŒ…`,è¿™ä¸¤ä¸ªåŒ…ä¸­åŒ…å«äº†JavaåŠ å¯†ä¸è§£å¯†çš„æ ¸å¿ƒéƒ¨åˆ†.
* åœ¨`java.security.interfaces`åŒ…å’Œ`javax.crypto.interfaces`åŒ…ä¸­åŒ…å«äº†å¯†é’¥ç›¸å…³çš„æ¥å£.
* åœ¨`java.security.spec`åŒ…å’Œ`javax.crypto.spec`åŒ…ä¸­åŒ…å«äº†å¯†é’¥è§„èŒƒå’Œç®—æ³•å‚æ•°è§„èŒƒçš„ç±»å’Œæ¥å£.

